webpackJsonp([1,4],{168:function(t,e,n){"use strict";var o=n(0),r=n(27);n.d(e,"a",function(){return s});var i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=function(){function t(t){this.af=t,this.db=t.database}return t.prototype.getRoutesList=function(){return this.db.list("rutas")},t.prototype.getStopsList=function(){return this.db.list("paradas")},t.prototype.getRoute=function(t){return this.db.object("rutas/"+t)},t.prototype.getStop=function(t){return this.db.object("paradas/"+t)},t.prototype.getPersonnelList=function(){return this.db.list("personal")},t.prototype.getPersonnel=function(t){return this.db.object("personal/"+t)},t.prototype.getBusesList=function(){return this.db.list("buses")},t.prototype.getBus=function(t){return this.db.object("buses/"+t)},t=i([n.i(o.Injectable)(),a("design:paramtypes",["function"==typeof(e=void 0!==r.b&&r.b)&&e||Object])],t);var e}()},242:function(t,e,n){"use strict";var o=n(378);n.d(e,"a",function(){return r}),n.d(e,"b",function(){return i}),n.d(e,"c",function(){return a});var r={LOG_IN:n.i(o.a)("[User] Log in"),LOG_OUT:n.i(o.a)("[User] Log out")},i=function(){function t(t){this.payload=t,this.type=r.LOG_IN}return t}(),a=function(){function t(){this.type=r.LOG_OUT}return t}()},243:function(t,e,n){"use strict";function o(t,e){return n.i(r.b)(c)(t,e)}var r=n(115),i=n(777),a=(n.n(i),n(590)),s=n(589);e.a=o,n.d(e,"b",function(){return p}),n.d(e,"c",function(){return f}),n.d(e,"d",function(){return u});var c={user:a.a,db:s.a},l=function(t){return t.user},p=n.i(i.createSelector)(l,a.b),f=n.i(i.createSelector)(l,a.c),u=n.i(i.createSelector)(l,a.d),d=function(t){return t.db};n.i(i.createSelector)(d,s.b),n.i(i.createSelector)(d,s.c)},364:function(t,e,n){"use strict";var o=n(0),r=n(44);n.d(e,"a",function(){return s});var i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=function(){function t(t,e){this.afService=t,this.elRef=e}return t.prototype.ngOnInit=function(){},t.prototype.sendMessage=function(t,e,n,o){var r=this;this.afService.addNewMessage(e,n,o).then(function(){r.clearFields(),r.setSuccessMsg()}).catch(function(t){t&&(r.error=t,console.log(r.error),r.setErrorMsg())})},t.prototype.setSuccessMsg=function(){},t.prototype.setErrorMsg=function(){},t.prototype.clearFields=function(){},t.prototype.ngAfterViewInit=function(){var t=this.elRef.nativeElement.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement.classList;t.remove("inicio-tab"),t.add("other-tab")},t=i([n.i(o.Component)({selector:"app-contactanos",template:n(759)}),a("design:paramtypes",["function"==typeof(e=void 0!==r.a&&r.a)&&e||Object,"function"==typeof(s=void 0!==o.ElementRef&&o.ElementRef)&&s||Object])],t);var e,s}()},365:function(t,e,n){"use strict";var o=n(0),r=n(44),i=n(112),a=n(115),s=n(242);n.d(e,"a",function(){return p});var c=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},l=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},p=function(){function t(t,e,n,o){this.afService=t,this.router=e,this.store=n,this.elRef=o}return t.prototype.ngOnInit=function(){},t.prototype.registerUser=function(t,e,n){var o=this;t.preventDefault(),this.afService.registerUser(e,n).then(function(){alert("user registered")}).catch(function(t){t&&(o.error=t,console.log(o.error))})},t.prototype.loginWithEmail=function(t,e,n){var o=this;t.preventDefault(),this.afService.loginWithEmail(e,n).then(function(){o.store.dispatch(new s.b(e)),o.elRef.nativeElement.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement.classList.add("auth"),o.router.navigate(["inicio"])}).catch(function(t){t&&(o.error=t,console.log(o.error))})},t.prototype.ngAfterViewInit=function(){var t=this.elRef.nativeElement.parentElement.parentElement.parentElement.parentElement.classList;t.remove("other-tab"),t.add("inicio-tab")},t=c([n.i(o.Component)({selector:"app-iniciar-sesion",template:n(761)}),l("design:paramtypes",["function"==typeof(e=void 0!==r.a&&r.a)&&e||Object,"function"==typeof(p=void 0!==i.b&&i.b)&&p||Object,"function"==typeof(f=void 0!==a.c&&a.c)&&f||Object,"function"==typeof(u=void 0!==o.ElementRef&&o.ElementRef)&&u||Object])],t);var e,p,f,u}()},366:function(t,e,n){"use strict";var o=n(0),r=n(27);n.d(e,"a",function(){return s});var i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=function(){function t(t,e){this.elRef=e,this.items=t.database.list("rutas")}return t.prototype.ngOnInit=function(){},t.prototype.ngAfterViewInit=function(){var t=this.elRef.nativeElement.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement.classList;t.remove("other-tab"),t.add("inicio-tab")},t=i([n.i(o.Component)({selector:"app-inicio",template:n(762)}),a("design:paramtypes",["function"==typeof(e=void 0!==r.b&&r.b)&&e||Object,"function"==typeof(s=void 0!==o.ElementRef&&o.ElementRef)&&s||Object])],t);var e,s}()},367:function(t,e,n){"use strict";var o=n(0),r=n(168);n.d(e,"a",function(){return s});var i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=function(){function t(t,e){var n=this;this.db=t,this.elRef=e,this.iconUrl="assets/images/marker.png",this.positions=[],this.center="-16.497317,-68.109008",this.zoom=12,this.icon="assets/images/small-logo.png",t.getStopsList().subscribe(function(t){t.forEach(function(t){n.positions.push({name:t.nombre,latLng:[t.lat,t.lng]})})})}return t.prototype.ngOnInit=function(){},t.prototype.onMapReady=function(t){var e,n,o,r,i,a,s,c=this;this.db.getRoutesList().subscribe(function(l){for(o=0;o<l.length;o+=1){for(r=l[o],s="#"+Math.random().toString(16).slice(2,8);"F"===s[1]||"f"===s[1];)s="#"+Math.random().toString(16).slice(2,8);if(r.trazos)for(e=0;e<r.trazos.length;e+=1){for(i=[],n=0;n<r.trazos[e].length;n+=1)i.push(r.trazos[e][n]);a=new google.maps.Polyline({path:i,strokeColor:c.ColorLuminance(s,.6)}),a.setMap(t)}}})},t.prototype.ColorLuminance=function(t,e){t=String(t).replace(/[^0-9a-f]/gi,""),t.length<6&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]),e=e||0;var n,o,r="#";for(o=0;o<3;o++)n=parseInt(t.substr(2*o,2),16),n=Math.round(Math.min(Math.max(0,n+n*e),255)).toString(16),r+=("00"+n).substr(n.length);return r},t.prototype.clicked=function(t){var e=t.target;e.nguiMapComponent.openInfoWindow("iw",e,{stopName:e.getTitle()})},t.prototype.ngAfterViewInit=function(){var t=this.elRef.nativeElement.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement.classList;t.remove("inicio-tab"),t.add("other-tab")},t=i([n.i(o.Component)({selector:"app-mapa",template:n(763)}),a("design:paramtypes",["function"==typeof(e=void 0!==r.a&&r.a)&&e||Object,"function"==typeof(s=void 0!==o.ElementRef&&o.ElementRef)&&s||Object])],t);var e,s}()},368:function(t,e,n){"use strict";var o=n(0),r=n(112),i=n(116),a=(n.n(i),n(168));n.d(e,"a",function(){return l});var s=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},c=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},l=function(){function t(t,e,n,o){this.db=t,this.elRef=e,this.router=n,this.cdr=o,this.destStopKey="",this.curPos={lat:-16.500393,lng:-68.123077},this.center="-16.500393,-68.123077",this.initStopLatLng="-16.500393, -68.123077",this.originLatLng="-16.500393, -68.12307",this.initialStop={lat:-16.500393,lng:-68.123077},this.destStop={lat:-16.500393,lng:-68.123077},this.zoom=18,this.positions=[],this.middlePositions=[],this.icon="assets/images/marker.png",this.smallIcon="assets/images/small-logo.png",this.overlays=[],this.centerUpdated=!1,this.stops$=t.getStopsList()}return t.prototype.ngOnInit=function(){var t=this,e=this.router.routerState.snapshot.url.split("?");this.directionsRendererDirective.initialized$.subscribe(function(e){t.directionsRenderer=e}),e.length>1&&(e=e[1].split("="),this.destStopKey=e[1]),console.log("Parada destino:",this.destStopKey),this.getCurrentPosition()},t.prototype.getCurrentPosition=function(){navigator.geolocation.getCurrentPosition(this.onMapWatchSuccess.bind(this),this.onMapError.bind(this),{enableHighAccuracy:!0})},t.prototype.onMapWatchSuccess=function(t){this.curPos={lat:t.coords.latitude,lng:t.coords.longitude},this.centerUpdated||(this.center=this.curPos.lat+","+this.curPos.lng,this.centerUpdated=!0),console.log("Posicion actual:",this.curPos),this.originLatLng=this.curPos.lat+","+this.curPos.lng,this.initStopLatLng=this.curPos.lat+","+this.curPos.lng,this.initRoutes()},t.prototype.onMapError=function(t){console.log("code:"+t.code+"\nmessage: "+t.message+"\n")},t.prototype.deleteAllTraces=function(){var t,e=this.overlays.length;for(t=0;t<e;t+=1)this.deleteTrace(0)},t.prototype.deleteTrace=function(t){var e;for(this.overlays[t].setMap(null),this.overlays.splice(t,1),e=0;e<this.overlays.length;e+=1)this.overlays[e].overlayNumber=e},t.prototype.selectStop=function(t){this.destStopKey=t,this.initRoutes()},t.prototype.initRoutes=function(){var t,e,n,o,r=this,i=!1;this.deleteAllTraces(),this.route=null,this.positions=[],this.middlePositions=[],this.destStopKey&&""!==this.destStopKey?this.db.getRoutesList().subscribe(function(a){for(t=0;t<a.length&&!r.route;t+=1)if(a[t].paradas)for(e=0;e<a[t].paradas.length&&!r.route;e+=1)a[t].paradas[e]===r.destStopKey&&(r.route=a[t]);if(r.route.trazos)for(t=0;t<r.route.trazos.length;t+=1){for(n=[],e=0;e<r.route.trazos[t].length;e+=1)n.push(r.route.trazos[t][e]);o=new google.maps.Polyline({path:n}),o.overlayNumber=t,o.setMap(r.map),r.overlays.push(o)}r.db.getStopsList().subscribe(function(e){for(e.forEach(function(t){r.isStopinRoute(t.$key,r.route.paradas)&&(t.$key===r.destStopKey?(r.destStop=t,r.positions.push({latLng:[t.lat,t.lng],name:t.nombre,$key:t.$key})):r.middlePositions.push({latLng:[t.lat,t.lng],name:t.nombre,$key:t.$key}),i?r.getDist(r.curPos,r.initialStop)>r.getDist(r.curPos,t)&&(r.initialStop=t):(r.initialStop=t,i=!0))}),r.positions.push({latLng:[r.initialStop.lat,r.initialStop.lng],name:r.initialStop.nombre,$key:r.initialStop.$key}),t=0;t<r.middlePositions.length;t+=1)r.middlePositions[t].$key===r.initialStop.$key&&r.middlePositions.splice(t,1);r.initStopLatLng=r.initialStop.lat+","+r.initialStop.lng})}):this.db.getStopsList().subscribe(function(t){t.forEach(function(t){i?r.getDist(r.curPos,r.initialStop)>r.getDist(r.curPos,t)&&(r.initialStop=t):(r.initialStop=t,i=!0)}),r.initStopLatLng=r.initialStop.lat+","+r.initialStop.lng,r.positions=[{latLng:[r.initialStop.lat,r.initialStop.lng],name:r.initialStop.nombre}]})},t.prototype.isStopinRoute=function(t,e){var n;if(e)for(n=0;n<e.length;n+=1)if(t===e[n])return!0;return!1},t.prototype.directionsChanged=function(){this.directionsResult=this.directionsRenderer.getDirections(),this.cdr.detectChanges()},t.prototype.showDirection=function(){this.directionsRendererDirective.showDirections({destination:this.initStopLatLng,optimizeWaypoints:!0,origin:this.originLatLng,provideRouteAlternatives:!0,travelMode:google.maps.TravelMode.WALKING})},t.prototype.getDist=function(t,e){return this.distanceInKmBetweenEarthCoordinates(+t.lat,+t.lng,+e.lat,+e.lng)},t.prototype.degreesToRadians=function(t){return t*Math.PI/180},t.prototype.distanceInKmBetweenEarthCoordinates=function(t,e,n,o){var r=6371,i=this.degreesToRadians(n-t),a=this.degreesToRadians(o-e);t=this.degreesToRadians(t),n=this.degreesToRadians(n);var s=Math.sin(i/2)*Math.sin(i/2)+Math.sin(a/2)*Math.sin(a/2)*Math.cos(t)*Math.cos(n);return r*(2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s)))},t.prototype.onMapReady=function(t){var e;for(this.map=t,console.log(t),e=0;e<this.overlays.length;e+=1)this.overlays[e].setMap(this.map)},t.prototype.clicked=function(t){var e=t.target;e.nguiMapComponent.openInfoWindow("iw",e,{stopName:e.getTitle()})},t.prototype.ngAfterViewInit=function(){var t=this.elRef.nativeElement.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement.classList;t.remove("inicio-tab"),t.add("other-tab")},s([n.i(o.ViewChild)(i.DirectionsRenderer),c("design:type","function"==typeof(e=void 0!==i.DirectionsRenderer&&i.DirectionsRenderer)&&e||Object)],t.prototype,"directionsRendererDirective",void 0),t=s([n.i(o.Component)({selector:"app-parada-mas-cercana",template:n(764)}),c("design:paramtypes",["function"==typeof(l=void 0!==a.a&&a.a)&&l||Object,"function"==typeof(p=void 0!==o.ElementRef&&o.ElementRef)&&p||Object,"function"==typeof(f=void 0!==r.b&&r.b)&&f||Object,"function"==typeof(u=void 0!==o.ChangeDetectorRef&&o.ChangeDetectorRef)&&u||Object])],t);var e,l,p,f,u}()},369:function(t,e,n){"use strict";var o=n(0),r=n(116),i=(n.n(r),n(44));n.d(e,"a",function(){return c});var a=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},s=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},c=function(){function t(t,e){this.afService=t,this.elRef=e}return t.prototype.ngOnInit=function(){var t=this;this.drawingManager.initialized$.subscribe(function(e){google.maps.event.addListener(e,"overlaycomplete",function(e){t.deleteSelectedOverlay(),t.selectedOverlay=e.overlay})})},t.prototype.saveStop=function(t,e){var n=this;this.selectedOverlay?this.afService.saveNewStop(e,this.selectedOverlay.position.lat(),this.selectedOverlay.position.lng()).then(function(){console.log("bus stop created!","bus name:",e),n.setSuccessMsg(),n.clearFields()}).catch(function(t){t&&(n.error=t,console.log(n.error),n.setErrorMsg())}):alert("¡Selecciona la posicion de la parada en el mapa primero!")},t.prototype.deleteSelectedOverlay=function(){this.selectedOverlay&&(this.selectedOverlay.setMap(null),delete this.selectedOverlay)},t.prototype.setErrorMsg=function(){},t.prototype.setSuccessMsg=function(){},t.prototype.clearFields=function(){},t.prototype.ngAfterViewInit=function(){var t=this.elRef.nativeElement.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement.classList;t.remove("other-tab"),t.add("inicio-tab")},a([n.i(o.ViewChild)(r.DrawingManager),s("design:type","function"==typeof(e=void 0!==r.DrawingManager&&r.DrawingManager)&&e||Object)],t.prototype,"drawingManager",void 0),t=a([n.i(o.Component)({selector:"app-paradas-crear",template:n(765)}),s("design:paramtypes",["function"==typeof(c=void 0!==i.a&&i.a)&&c||Object,"function"==typeof(l=void 0!==o.ElementRef&&o.ElementRef)&&l||Object])],t);var e,c,l}()},370:function(t,e,n){"use strict";var o=n(0),r=n(27),i=n(44);n.d(e,"a",function(){return c});var a=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},s=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},c=function(){function t(t,e,n){this.af=t,this.afService=e,this.elRef=n,this.stopToDeleteKey="",this.stops$=t.database.list("paradas")}return t.prototype.ngOnInit=function(){},t.prototype.setStopToDeleteKey=function(t){this.stopToDeleteKey=t},t.prototype.deleteStop=function(){""!==this.stopToDeleteKey&&this.afService.deleteStop(this.stopToDeleteKey)},t.prototype.ngAfterViewInit=function(){var t=this.elRef.nativeElement.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement.classList;t.remove("other-tab"),t.add("inicio-tab")},t=a([n.i(o.Component)({selector:"app-paradas-eliminar",template:n(766)}),s("design:paramtypes",["function"==typeof(e=void 0!==r.b&&r.b)&&e||Object,"function"==typeof(c=void 0!==i.a&&i.a)&&c||Object,"function"==typeof(l=void 0!==o.ElementRef&&o.ElementRef)&&l||Object])],t);var e,c,l}()},371:function(t,e,n){"use strict";var o=n(0),r=n(44),i=n(27);n.d(e,"a",function(){return c});var a=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},s=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},c=function(){function t(t,e,n){this.afService=t,this.af=e,this.elRef=n,this.positions=[],this.stop=null,this.icon="assets/images/marker.png",this.center="-16.500393,-68.123077",this.zoom=14,this.stops$=e.database.list("paradas")}return t.prototype.ngOnInit=function(){},t.prototype.updateStop=function(t,e){var n=this;this.af.database.object("paradas/"+e).subscribe(function(t){n.stop={key:t.$key,lat:t.lat,lng:t.lng,nombre:t.nombre},console.log(n.stop),n.center=t.lat+","+t.lng,n.positions=[{latLng:[t.lat,t.lng],name:t.nombre}],n.zoom=18})},t.prototype.onKeyUp=function(t){this.stop?this.stop.nombre=t.target.value:t.target.value=""},t.prototype.onDragEnd=function(t){this.stop.lat=t.latLng.lat(),this.stop.lng=t.latLng.lng(),console.log(this.stop)},t.prototype.modifyStop=function(t){var e=this;console.log("modify stop!"),this.stop?(this.resetValues(),this.afService.modifyStop(this.stop).then(function(){e.resetValues(),console.log("bus stop modified!","stop key:",e.stop.key),e.setSuccessMsg()}).catch(function(t){t&&(e.error=t,console.log(e.error),e.setErrorMsg())})):alert("Seleccionar una parada a modificar primero")},t.prototype.setErrorMsg=function(){},t.prototype.setSuccessMsg=function(){},t.prototype.resetValues=function(){this.center="-16.500393,-68.123077",this.positions=[],this.zoom=14},t.prototype.clicked=function(t){var e=t.target;e.nguiMapComponent.openInfoWindow("iw",e,{stopName:e.getTitle()})},t.prototype.ngAfterViewInit=function(){var t=this.elRef.nativeElement.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement.classList;t.remove("other-tab"),t.add("inicio-tab")},t=a([n.i(o.Component)({selector:"app-paradas-modificar",template:n(767)}),s("design:paramtypes",["function"==typeof(e=void 0!==r.a&&r.a)&&e||Object,"function"==typeof(c=void 0!==i.b&&i.b)&&c||Object,"function"==typeof(l=void 0!==o.ElementRef&&o.ElementRef)&&l||Object])],t);var e,c,l}()},372:function(t,e,n){"use strict";var o=n(0),r=n(27);n.d(e,"a",function(){return s});var i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=function(){function t(t,e){this.af=t,this.elRef=e,this.iconUrl="assets/images/marker.png",this.positions=[],this.center="-16.500393,-68.123077",this.zoom=16,this.icon="assets/images/marker.png",this.stops$=t.database.list("paradas")}return t.prototype.updateStop=function(t){var e=this;this.af.database.object("paradas/"+t).subscribe(function(t){console.log(t),e.center=t.lat+","+t.lng,e.positions=[{latLng:[t.lat,t.lng],name:t.nombre}]})},t.prototype.ngOnInit=function(){},t.prototype.clicked=function(t){var e=t.target;e.nguiMapComponent.openInfoWindow("iw",e,{stopName:e.getTitle()})},t.prototype.ngAfterViewInit=function(){var t=this.elRef.nativeElement.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement.classList;t.remove("inicio-tab"),t.add("other-tab")},t=i([n.i(o.Component)({selector:"app-paradas",template:n(768)}),a("design:paramtypes",["function"==typeof(e=void 0!==r.b&&r.b)&&e||Object,"function"==typeof(s=void 0!==o.ElementRef&&o.ElementRef)&&s||Object])],t);var e,s}()},373:function(t,e,n){"use strict";var o=n(0),r=n(27),i=n(112);n.d(e,"a",function(){return c});var a=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},s=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},c=function(){function t(t,e,n){this.af=t,this.router=e,this.elRef=n,this.stops$=t.database.list("paradas")}return t.prototype.ngOnInit=function(){},t.prototype.ngAfterViewInit=function(){var t=this.elRef.nativeElement.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement.classList;t.remove("inicio-tab"),t.add("other-tab")},t.prototype.selectStop=function(t){this.router.navigate(["parada-mas-cercana"],{queryParams:{stop:t}})},t=a([n.i(o.Component)({selector:"app-proximo-bus",template:n(769)}),s("design:paramtypes",["function"==typeof(e=void 0!==r.b&&r.b)&&e||Object,"function"==typeof(c=void 0!==i.b&&i.b)&&c||Object,"function"==typeof(l=void 0!==o.ElementRef&&o.ElementRef)&&l||Object])],t);var e,c,l}()},374:function(t,e,n){"use strict";var o=n(0),r=n(116),i=(n.n(r),n(27)),a=n(44);n.d(e,"a",function(){return l});var s=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},c=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},l=function(){function t(t,e,n){var o=this;this.elRef=t,this.afService=e,this.af=n,this.positions=[],this.selectedPositions=[],this.icon="assets/images/marker.png",this.center="-16.500393,-68.123077",this.zoom=14,this.routeName="",this.overlays=[],this.firstStop=!1,this.stops$=n.database.list("paradas"),this.stops$.subscribe(function(t){t.forEach(function(t){o.positions.push({latLng:[t.lat,t.lng],name:t.nombre,$key:t.$key})})})}return t.prototype.ngOnInit=function(){var t=this;this.drawingManager.initialized$.subscribe(function(e){google.maps.event.addListener(e,"overlaycomplete",function(n){n.type!==google.maps.drawing.OverlayType.MARKER&&(e.setDrawingMode(null),n.overlay.overlayNumber=t.overlays.length,t.overlays.push(n.overlay),google.maps.event.addListener(n.overlay,"click",function(e){t.selectedOverlay=n.overlay.overlayNumber,t.overlays[t.selectedOverlay].setEditable(!0)}))})})},t.prototype.deleteAllTraces=function(){var t,e=this.overlays.length;for(t=0;t<e;t+=1)this.deleteTrace(0)},t.prototype.deleteTrace=function(t){var e;for(this.overlays[t].setMap(null),this.overlays.splice(t,1),e=0;e<this.overlays.length;e+=1)this.overlays[e].overlayNumber=e},t.prototype.onKeyUp=function(t){this.routeName=t.target.value},t.prototype.toggleStop=function(t,e){var n,o,r,i=t.target.options,a=i.length,s="selected";for(o=0;o<a;o+=1)i[o].value===e&&(n=i[o].classList,r=i[o].className.indexOf(s)>-1,n[r?"remove":"add"](s),i[o].selected=!r,this.toggleStopSelection(e,!r));t.target.value=void 0},t.prototype.toggleStopSelection=function(t,e){var n,o;for(n=0;n<this.positions.length;n+=1)if(this.positions[n].$key===t){o=this.positions[n];break}if(e)return void this.selectedPositions.push(o);for(n=0;n<this.selectedPositions.length;n+=1)if(this.selectedPositions[n].$key===t)return void this.selectedPositions.splice(n,1)},t.prototype.createRoute=function(t){var e=this;this.afService.createRoute(this.overlays,this.routeName,this.selectedPositions).then(function(){e.resetValues(),console.log("bus stop created!","route name:",e.routeName),e.setSuccessMsg()}).catch(function(t){t&&(e.error=t,console.log(e.error),e.setErrorMsg())})},t.prototype.resetValues=function(){},t.prototype.setSuccessMsg=function(){},t.prototype.setErrorMsg=function(){},t.prototype.onMapReady=function(t){this.map=t,console.log(t)},t.prototype.ngAfterViewInit=function(){var t=this.elRef.nativeElement.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement.classList;t.remove("other-tab"),t.add("inicio-tab")},t.prototype.clicked=function(t){var e=t.target;e.nguiMapComponent.openInfoWindow("iw",e,{stopName:e.getTitle()})},s([n.i(o.ViewChild)(r.DrawingManager),c("design:type","function"==typeof(e=void 0!==r.DrawingManager&&r.DrawingManager)&&e||Object)],t.prototype,"drawingManager",void 0),t=s([n.i(o.Component)({selector:"app-rutas-crear",template:n(770)}),c("design:paramtypes",["function"==typeof(l=void 0!==o.ElementRef&&o.ElementRef)&&l||Object,"function"==typeof(p=void 0!==a.a&&a.a)&&p||Object,"function"==typeof(f=void 0!==i.b&&i.b)&&f||Object])],t);var e,l,p,f}()},375:function(t,e,n){"use strict";var o=n(0),r=n(27),i=n(44);n.d(e,"a",function(){return c});var a=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},s=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},c=function(){function t(t,e,n){this.af=t,this.afService=e,this.elRef=n,this.routeToDeleteKey="",this.routes$=t.database.list("rutas")}return t.prototype.ngOnInit=function(){},t.prototype.setRouteToDeleteKey=function(t){this.routeToDeleteKey=t},t.prototype.deleteRoute=function(){""!==this.routeToDeleteKey&&this.afService.deleteRoute(this.routeToDeleteKey)},t.prototype.ngAfterViewInit=function(){var t=this.elRef.nativeElement.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement.classList;t.remove("other-tab"),t.add("inicio-tab")},t=a([n.i(o.Component)({selector:"app-rutas-eliminar",template:n(771)}),s("design:paramtypes",["function"==typeof(e=void 0!==r.b&&r.b)&&e||Object,"function"==typeof(c=void 0!==i.a&&i.a)&&c||Object,"function"==typeof(l=void 0!==o.ElementRef&&o.ElementRef)&&l||Object])],t);var e,c,l}()},376:function(t,e,n){"use strict";var o=n(0),r=n(116),i=(n.n(r),n(27)),a=n(44);n.d(e,"a",function(){return l});var s=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},c=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},l=function(){function t(t,e,n){var o=this;this.elRef=t,this.afService=e,this.af=n,this.positions=[],this.selectedPositions=[],this.icon="assets/images/marker.png",this.center="-16.500393,-68.123077",this.zoom=14,this.selectedRoute=null,this.overlays=[],this.firstStop=!1,this.routes$=n.database.list("rutas"),this.stops$=n.database.list("paradas"),this.stops$.subscribe(function(t){t.forEach(function(t){o.positions.push({latLng:[t.lat,t.lng],name:t.nombre,$key:t.$key})})})}return t.prototype.ngOnInit=function(){var t=this;this.drawingManager.initialized$.subscribe(function(e){google.maps.event.addListener(e,"overlaycomplete",function(n){n.type!==google.maps.drawing.OverlayType.MARKER&&(e.setDrawingMode(null),n.overlay.overlayNumber=t.overlays.length,t.overlays.push(n.overlay),google.maps.event.addListener(n.overlay,"click",function(e){t.selectedOverlay=n.overlay.overlayNumber,t.overlays[t.selectedOverlay].setEditable(!0)}))})})},t.prototype.deleteAllTraces=function(){var t,e=this.overlays.length;for(t=0;t<e;t+=1)this.deleteTrace(0)},t.prototype.deleteTrace=function(t){var e;for(this.overlays[t].setMap(null),this.overlays.splice(t,1),e=0;e<this.overlays.length;e+=1)this.overlays[e].overlayNumber=e},t.prototype.updateRoute=function(t,e){var n,o,r,i,a=this;this.deleteAllTraces(),this.firstStop=!1,this.selectedPositions=[],this.overlays=[];var s=this.elRef.nativeElement.firstChild.childNodes[3].childNodes[1].childNodes[3].childNodes[1].options;for(n=0;n<s.length;n+=1)s[n].selected=!1,s[n].classList.remove("selected");this.af.database.object("rutas/"+e).subscribe(function(t){if(a.selectedRoute={name:t.nombre,$key:t.$key},t.trazos)for(n=0;n<t.trazos.length;n+=1){for(r=[],o=0;o<t.trazos[n].length;o+=1)r.push(t.trazos[n][o]);i=new google.maps.Polyline({path:r,editable:!0}),i.overlayNumber=n,i.setMap(a.map),a.overlays.push(i)}t.paradas&&a.stops$.forEach(function(e){e.map(function(e){if(a.isStopinRoute(e.$key,t.paradas))for(a.selectedPositions.push({latLng:[e.lat,e.lng],name:e.nombre,$key:e.$key}),a.firstStop||(a.firstStop=!0,a.center=e.lat+","+e.lng),n=0;n<s.length;n+=1)if(s[n].value===e.$key){s[n].selected=!0,s[n].classList.add("selected");break}})})})},t.prototype.onKeyUp=function(t){this.selectedRoute?this.selectedRoute.name=t.target.value:t.target.value=""},t.prototype.toggleStop=function(t,e){var n,o,r,i=t.target.options,a=i.length,s="selected";if(!this.selectedRoute)return void alert("Seleccione una ruta antes de modificar las paradas");for(o=0;o<a;o+=1)i[o].value===e&&(n=i[o].classList,r=i[o].className.indexOf(s)>-1,n[r?"remove":"add"](s),i[o].selected=!r,this.toggleStopSelection(e,!r));t.target.value=void 0},t.prototype.toggleStopSelection=function(t,e){var n,o;for(n=0;n<this.positions.length;n+=1)if(this.positions[n].$key===t){o=this.positions[n];break}if(e)return void this.selectedPositions.push(o);for(n=0;n<this.selectedPositions.length;n+=1)if(this.selectedPositions[n].$key===t)return void this.selectedPositions.splice(n,1)},t.prototype.modifyRoute=function(t){var e=this;this.afService.modifyRoute(this.overlays,this.selectedRoute,this.selectedPositions).then(function(){e.resetValues(),console.log("bus stop modified!","route key:",e.selectedRoute.$key),e.setSuccessMsg()}).catch(function(t){t&&(e.error=t,console.log(e.error),e.setErrorMsg())})},t.prototype.resetValues=function(){},t.prototype.setSuccessMsg=function(){},t.prototype.setErrorMsg=function(){},t.prototype.onMapReady=function(t){this.map=t,console.log(t)},t.prototype.isStopinRoute=function(t,e){var n;for(n=0;n<e.length;n+=1)if(t===e[n])return!0;return!1},t.prototype.ngAfterViewInit=function(){var t=this.elRef.nativeElement.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement.classList;t.remove("other-tab"),t.add("inicio-tab")},t.prototype.clicked=function(t){var e=t.target;e.nguiMapComponent.openInfoWindow("iw",e,{stopName:e.getTitle()})},s([n.i(o.ViewChild)(r.DrawingManager),c("design:type","function"==typeof(e=void 0!==r.DrawingManager&&r.DrawingManager)&&e||Object)],t.prototype,"drawingManager",void 0),t=s([n.i(o.Component)({selector:"app-rutas-modificar",template:n(772)}),c("design:paramtypes",["function"==typeof(l=void 0!==o.ElementRef&&o.ElementRef)&&l||Object,"function"==typeof(p=void 0!==a.a&&a.a)&&p||Object,"function"==typeof(f=void 0!==i.b&&i.b)&&f||Object])],t);var e,l,p,f}()},377:function(t,e,n){"use strict";var o=n(0),r=n(27),i=n(781);n.n(i);n.d(e,"a",function(){return c});var a=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},s=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},c=function(){function t(t,e){this.af=t,this.elRef=e,this.firstStop=!1,this.positions=[],this.center="-16.500393,-68.123077",this.zoom=14,this.icon="assets/images/marker.png",this.overlays=[],this.routes$=t.database.list("rutas"),this.routes$.subscribe(console.log)}return t.prototype.deleteAllTraces=function(){var t,e=this.overlays.length;for(t=0;t<e;t+=1)this.deleteTrace(0)},t.prototype.deleteTrace=function(t){var e;for(this.overlays[t].setMap(null),this.overlays.splice(t,1),e=0;e<this.overlays.length;e+=1)this.overlays[e].overlayNumber=e},t.prototype.updateRoute=function(t){var e,n,o,r,i=this;this.deleteAllTraces(),this.firstStop=!1,this.positions=[],this.af.database.object("rutas/"+t).subscribe(function(t){if(t.trazos)for(e=0;e<t.trazos.length;e+=1){for(o=[],n=0;n<t.trazos[e].length;n+=1)o.push(t.trazos[e][n]);r=new google.maps.Polyline({path:o}),r.overlayNumber=e,r.setMap(i.map),i.overlays.push(r)}if(t.paradas)for(e=0;e<t.paradas.length;e+=1)i.af.database.object("paradas/"+t.paradas[e]).subscribe(function(t){i.positions.push({latLng:[t.lat,t.lng],name:t.nombre}),i.firstStop||(i.firstStop=!0,i.center=t.lat+","+t.lng)})})},t.prototype.ngOnInit=function(){},t.prototype.onMapReady=function(t){this.map=t,console.log(t)},t.prototype.clicked=function(t){var e=t.target;e.nguiMapComponent.openInfoWindow("iw",e,{stopName:e.getTitle()})},t.prototype.ngAfterViewInit=function(){var t=this.elRef.nativeElement.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement.classList;t.remove("inicio-tab"),t.add("other-tab")},t=a([n.i(o.Component)({selector:"app-rutas",template:n(773)}),s("design:paramtypes",["function"==typeof(e=void 0!==r.b&&r.b)&&e||Object,"function"==typeof(i=void 0!==o.ElementRef&&o.ElementRef)&&i||Object])],t);var e,i}()},378:function(t,e,n){"use strict";function o(t){if(r[t])throw new Error('Action type "'+t+'" is not unique');return r[t]=!0,t}e.a=o;var r={}},44:function(t,e,n){"use strict";var o=n(0),r=n(27),i=n(78);n.d(e,"a",function(){return c});var a=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},s=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},c=function(){function t(t){this.af=t}return t.prototype.loginWithGoogle=function(){return this.af.auth.login({provider:r.c.Google,method:r.d.Popup})},t.prototype.logout=function(){return this.af.auth.logout()},t.prototype.registerUser=function(t,e){return console.log(t),this.af.auth.createUser({email:t,password:e})},t.prototype.saveUserInfoFromForm=function(t,e,n){return this.af.database.object("registeredUsers/"+t).set({name:e,email:n})},t.prototype.loginWithEmail=function(t,e){return this.af.auth.login({email:t,password:e},{provider:r.c.Password,method:r.d.Password})},t.prototype.addNewMessage=function(t,e,n){var o=new i.DatePipe("es-BO");return this.af.database.list("mensajes").push({nombre:t,email:e,mensaje:n,leido:!1,fecha:o.transform(Date.now(),"dd-MM-yyyy hh:mm:ss")})},t.prototype.deleteStop=function(t){return this.af.database.object("paradas/"+t).remove()},t.prototype.deleteRoute=function(t){return this.af.database.object("rutas/"+t).remove()},t.prototype.saveNewStop=function(t,e,n){return this.af.database.list("paradas").push({nombre:t,lat:e,lng:n})},t.prototype.modifyStop=function(t){return this.af.database.object("paradas/"+t.key).set({nombre:t.nombre,lat:t.lat,lng:t.lng})},t.prototype.modifyRoute=function(t,e,n){var o,r,i={},a={};for(o=0;o<n.length;o+=1)i[o]=n[o].$key;for(o=0;o<t.length;o+=1)a[o]={},r=0,t[o].getPath().forEach(function(t){a[o][r]={lat:t.lat(),lng:t.lng()},r+=1});return this.af.database.object("rutas/"+e.$key).set({nombre:e.name,paradas:i,trazos:a})},t.prototype.createRoute=function(t,e,n){var o,r,i={},a={};for(o=0;o<n.length;o+=1)i[o]=n[o].$key;for(o=0;o<t.length;o+=1)a[o]={},r=0,t[o].getPath().forEach(function(t){a[o][r]={lat:t.lat(),lng:t.lng()},r+=1});return this.af.database.list("rutas").push({nombre:e,paradas:i,trazos:a})},t=a([n.i(o.Injectable)(),s("design:paramtypes",["function"==typeof(e=void 0!==r.b&&r.b)&&e||Object])],t);var e}()},454:function(t,e){function n(t){throw new Error("Cannot find module '"+t+"'.")}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id=454},455:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(544),r=n(0),i=n(591),a=n(583);i.a.production&&n.i(r.enableProdMode)(),n.i(o.a)().bootstrapModule(a.a)},580:function(t,e,n){"use strict";var o=n(378);n.d(e,"a",function(){return r});var r={LOAD_DB_DATA:n.i(o.a)("[Db] Load data")};!function(){function t(){this.type=r.LOAD_DB_DATA}}()},581:function(t,e,n){"use strict";var o=n(0),r=n(112),i=n(366),a=n(377),s=n(374),c=n(376),l=n(375),p=n(372),f=n(369),u=n(371),d=n(370),m=n(368),h=n(373),g=n(367),v=n(364),y=n(365);n.d(e,"a",function(){return O});var b=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},R=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},E=[{path:"",redirectTo:"/inicio",pathMatch:"full"},{path:"inicio",component:i.a},{path:"rutas",component:a.a},{path:"crear-rutas",component:s.a},{path:"modificar-rutas",component:c.a},{path:"eliminar-rutas",component:l.a},{path:"paradas",component:p.a},{path:"crear-paradas",component:f.a},{path:"modificar-paradas",component:u.a},{path:"eliminar-paradas",component:d.a},{path:"parada-mas-cercana",component:m.a},{path:"proximo-bus",component:h.a},{path:"mapa",component:g.a},{path:"contactanos",component:v.a},{path:"iniciar-sesion",component:y.a}],k=r.a.forRoot(E,{useHash:!0}),O=function(){function t(){}return t=b([n.i(o.NgModule)({imports:[k],exports:[r.a]}),R("design:paramtypes",[])],t)}()},582:function(t,e,n){"use strict";var o=n(0),r=n(168);n.d(e,"a",function(){return s});var i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=function(){function t(t){this.db=t}return t.prototype.ngOnInit=function(){},t=i([n.i(o.Component)({selector:"app-root",template:n(757)}),a("design:paramtypes",["function"==typeof(e=void 0!==r.a&&r.a)&&e||Object])],t);var e}()},583:function(t,e,n){"use strict";var o=n(165),r=n(0),i=n(534),a=n(540),s=n(27),c=n(582),l=n(587),p=n(588),f=n(584),u=n(581),d=n(586),m=n(585),h=n(366),g=n(377),v=n(372),y=n(368),b=n(373),R=n(367),E=n(364),k=n(374),O=n(376),w=n(375),j=n(369),S=n(371),L=n(370),P=n(365),M=n(44),$=n(115),_=n(243),I=n(116),D=(n.n(I),n(168));n.d(e,"a",function(){return N});var x=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},C=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},N=function(){function t(){}return t=x([n.i(r.NgModule)({declarations:[c.a,l.a,p.a,f.a,d.a,m.a,h.a,g.a,v.a,y.a,b.a,R.a,E.a,k.a,O.a,w.a,j.a,S.a,L.a,P.a],imports:[o.a,$.a.provideStore(_.a),u.a,s.a.initializeApp({apiKey:"AIzaSyBiyMHD0bwEr3BWtkjaPLG8NqZ4Ht_AEUQ",authDomain:"pumakatari-project.firebaseapp.com",databaseURL:"https://pumakatari-project.firebaseio.com",storageBucket:"pumakatari-project.appspot.com",messagingSenderId:"147612482308"}),i.a,I.NguiMapModule.forRoot({apiUrl:"https://maps.google.com/maps/api/js?key=AIzaSyBJ4KQ9Toja55Lqf78LzRDZgEkdBPufSQ8&sensor=false&libraries=drawing"}),a.a],providers:[M.a,D.a],bootstrap:[c.a]}),C("design:paramtypes",[])],t)}()},584:function(t,e,n){"use strict";var o=n(0);n.d(e,"a",function(){return a});var r=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=function(){function t(){}return t.prototype.ngOnInit=function(){},t=r([n.i(o.Component)({selector:"app-body",template:n(758)}),i("design:paramtypes",[])],t)}()},585:function(t,e,n){"use strict";var o=n(0);n.d(e,"a",function(){return a});var r=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=function(){function t(){}return t.prototype.ngOnInit=function(){},t=r([n.i(o.Component)({selector:"app-content",template:n(760)}),i("design:paramtypes",[])],t)}()},586:function(t,e,n){"use strict";var o=n(0),r=n(243),i=n(115);n.d(e,"a",function(){return c});var a=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},s=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},c=function(){function t(t){this.store=t,this.isLoggedIn=this.store.select(r.b),this.isNotLoggedIn=this.store.select(r.c)}return t.prototype.ngOnInit=function(){},t=a([n.i(o.Component)({selector:"app-side-bar",template:n(774)}),s("design:paramtypes",["function"==typeof(e=void 0!==i.c&&i.c)&&e||Object])],t);var e}()},587:function(t,e,n){"use strict";var o=n(0);n.d(e,"a",function(){return a});var r=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=function(){function t(){}return t.prototype.ngOnInit=function(){},t=r([n.i(o.Component)({selector:"app-footer",template:n(775)}),i("design:paramtypes",[])],t)}()},588:function(t,e,n){"use strict";var o=n(0),r=n(44),i=n(112),a=n(243),s=n(115),c=n(242);n.d(e,"a",function(){return f});var l=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},p=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},f=function(){function t(t,e,n,o){this.afService=t,this.router=e,this.store=n,this.elRef=o,this.title="Pumakatari",this.loginText="Iniciar Sesion",this.logoutText="Cerrar Sesion",this.username=this.store.select(a.d),this.isLoggedIn=this.store.select(a.b),this.isNotLoggedIn=this.store.select(a.c)}return t.prototype.ngOnInit=function(){},t.prototype.logout=function(){var t=this;this.afService.logout().then(function(){t.elRef.nativeElement.parentElement.parentElement.classList.remove("auth"),t.store.dispatch(new c.c),t.router.navigate(["inicio"])}).catch(function(e){e&&(t.error=e,console.log(t.error))})},t.prototype.ngAfterViewInit=function(){this.elRef.nativeElement.parentElement.parentElement.parentElement.parentElement.classList.remove("auth")},t=l([n.i(o.Component)({selector:"app-header",template:n(776)}),p("design:paramtypes",["function"==typeof(e=void 0!==r.a&&r.a)&&e||Object,"function"==typeof(f=void 0!==i.b&&i.b)&&f||Object,"function"==typeof(u=void 0!==s.c&&s.c)&&u||Object,"function"==typeof(d=void 0!==o.ElementRef&&o.ElementRef)&&d||Object])],t);var e,f,u,d}()},589:function(t,e,n){"use strict";function o(t,e){switch(void 0===t&&(t=i),e.type){case r.a.LOAD_DB_DATA:return{routes$:e.payload.routes$,stops$:e.payload.stops$};default:return t}}var r=n(580);e.a=o,n.d(e,"b",function(){return a}),n.d(e,"c",function(){return s});var i={routes$:null,stops$:null},a=function(t){return t.routes$},s=function(t){return t.stops$}},590:function(t,e,n){"use strict";function o(t,e){switch(void 0===t&&(t=i),e.type){case r.a.LOG_IN:return{isUserLoggedIn:!0,isNotUserLoggedIn:!1,email:e.payload};case r.a.LOG_OUT:return{isUserLoggedIn:!1,isNotUserLoggedIn:!0,email:""};default:return t}}var r=n(242);e.a=o,n.d(e,"b",function(){return a}),n.d(e,"c",function(){return s}),n.d(e,"d",function(){return c});var i={isUserLoggedIn:!1,isNotUserLoggedIn:!0,email:""},a=function(t){return t.isUserLoggedIn},s=function(t){return t.isNotUserLoggedIn},c=function(t){return t.email}},591:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var o={production:!0}},757:function(t,e){t.exports='<div class="app">\r\n\r\n  <app-header></app-header>\r\n\r\n  <app-body></app-body>\r\n\r\n  <app-footer></app-footer>\r\n\r\n</div>\r\n\r\n'},758:function(t,e){t.exports='<div>\r\n  <div class="sidebar-ctn hbox">\r\n    <a class="page-tab return-tab"\r\n       routerLink="inicio"\r\n       routerLinkActive="active">Volver</a>\r\n  </div>\r\n\r\n  <div class="content-body hbox">\r\n\r\n    <app-side-bar></app-side-bar>\r\n    <app-content class="hbox flex"></app-content>\r\n\r\n  </div>\r\n\r\n\r\n</div>\r\n'},759:function(t,e){t.exports='<div class="vbox">\r\n  <h1 class="section-title contact-us-title">Contactanos</h1>\r\n  <div class="contactanos">\r\n    <form (submit)="sendMessage($event, name.value, email.value, message.value)">\r\n      <div class="form-group">\r\n        <span for="name">Nombre</span>\r\n        <input #name type="text" class="pk-input form-control" id="name" required>\r\n      </div>\r\n      <div class="form-group">\r\n        <span for="email">Email</span>\r\n        <input #email type="text" class="pk-input form-control" id="email" required pattern="^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$">\r\n      </div>\r\n      <div class="form-group">\r\n        <span for="mensaje">Mensaje</span>\r\n        <textarea #message class="pk-textarea" required></textarea>\r\n      </div>\r\n      <button type="submit" class="pk-button">Enviar</button>\r\n    </form>\r\n  </div>\r\n</div>\r\n'},760:function(t,e){t.exports='<div class="app-content flex">\r\n\r\n  <router-outlet></router-outlet>\r\n\r\n</div>\r\n'},761:function(t,e){t.exports='<div class="iniciar-sesion">\r\n  <h2>Iniciar Sesion</h2>\r\n  <form (submit)="loginWithEmail($event, name.value, password.value)">\r\n    <div class="form-group">\r\n      <span for="name">Email</span>\r\n      <input #name type="text" class="pk-input form-control" id="name" required>\r\n    </div>\r\n    <div class="form-group">\r\n      <span for="password">Contraseña</span>\r\n      <input #password type="password" class="pk-input form-control" id="password" required>\r\n    </div>\r\n    <button type="submit" class="pk-button">Enviar</button>\r\n  </form>\r\n</div>\r\n'},762:function(t,e){t.exports='<div class="vbox">\r\n  <h1 class="section-title">¡Bienvenido!</h1>\r\n  <div>\r\n    <li *ngFor="let item of items | async">\r\n      {{ item.nombre }}\r\n    </li>\r\n  </div>\r\n</div>\r\n'},763:function(t,e){t.exports='<div class="vbox">\n  <h1 class="section-title">Mapa</h1>\n  <div>\n    <div class="map-container">\n      <ngui-map [zoom]="zoom" [center]="center" (mapReady$)="onMapReady($event)">\n        <marker *ngFor="let pos of positions"\n                [position]="pos.latLng"\n                [icon]="icon"\n                (click)="clicked($event)"\n                [title]="pos.name">\n        </marker>\n        <info-window id="iw">\n          [[stopName]]\n        </info-window>\n      </ngui-map>\n  </div>\n\n</div>\n'},764:function(t,e){t.exports='<div class="vbox">\n  <h1 class="section-title">Parada mas cercana</h1>\n  <div class="form-group create-stop-form">\n    <div>\n      <span for="name">Parada de Partida: {{ initialStop?.nombre }}</span>\n    </div>\n    <div>\n      <span for="name">Ruta: {{ route?.nombre }}</span>\n    </div>\n    <select\n      name="stops"\n      class="pk-combobox stops-combo"\n      (change)="selectStop($event.target.value)">\n      <option [value]="destStopKey" disabled selected hidden> -- Seleccionar Parada Destino -- </option>\n      <option *ngFor="let item of (stops$ | async)" [value]="item.$key">\n        {{ item.nombre }}\n      </option>\n    </select>\n  </div>\n  <div class="map-container">\n    <ngui-map [zoom]="zoom" [center]="center" (mapReady$)="onMapReady($event)">\n      <marker *ngFor="let pos of middlePositions"\n              [position]="pos.latLng"\n              [icon]="smallIcon"\n              (click)="clicked($event)"\n              [title]="pos.name">\n      </marker>\n      <marker *ngFor="let pos of positions"\n              [position]="pos.latLng"\n              [icon]="icon"\n              (click)="clicked($event)"\n              [title]="pos.name">\n      </marker>\n      <marker\n        [position]="curPos"\n        (click)="clicked($event)"\n        title="Posicion actual">\n      </marker>\n      <info-window id="iw">\n        [[stopName]]\n      </info-window>\n      <directions-renderer\n        [suppressMarkers]="true"\n        [draggable]="false"\n        panel="#my-panel"\n        (directions_changed)="directionsChanged()"\n        [directions-request]="{\n          destination: initStopLatLng,\n          optimizeWaypoints: true,\n          origin: originLatLng,\n          provideRouteAlternatives: true,\n          travelMode: \'WALKING\'\n        }">\n      </directions-renderer>\n    </ngui-map>\n    <!--<div id="my-panel"></div>-->\n  </div>\n\n</div>\n'},765:function(t,e){t.exports='<div class="vbox">\r\n\r\n  <h1 class="section-title">Crear Parada</h1>\r\n\r\n  <form (submit)="saveStop($event, name.value)">\r\n    <div class="form-group create-stop-form">\r\n      <span for="name">Nombre de la Parada:</span>\r\n      <input #name type="text" class="pk-input form-control" id="name" required>\r\n      <button type="submit" class="pk-button">Crear Parada</button>\r\n    </div>\r\n    <div class="map-container">\r\n      <ngui-map zoom="14" center="-16.500393,-68.123077">\r\n        <drawing-manager\r\n          [drawingMode]="\'marker\'"\r\n          [drawingControl]="true"\r\n          [drawingControlOptions]="{\r\n            position: 1,\r\n            drawingModes: [\'marker\']\r\n          }"\r\n          [markerOptions]="{\r\n            icon: \'assets/images/marker.png\'\r\n          }"\r\n        ></drawing-manager>\r\n      </ngui-map>\r\n    </div>\r\n\r\n  </form>\r\n\r\n</div>\r\n'},766:function(t,e){t.exports='<div class="vbox">\r\n  <h1 class="section-title">Eliminar Parada</h1>\r\n  <div class="remove-stop-ctn">\r\n    <select\r\n      name="stops"\r\n      class="pk-combobox stops-combo"\r\n      (change)="setStopToDeleteKey($event.target.value)">\r\n      <option [value]="" disabled selected hidden> -- Seleccionar Parada a Eliminar -- </option>\r\n      <option *ngFor="let item of (stops$ | async)" [value]="item.$key">\r\n        {{ item.nombre }}\r\n      </option>\r\n    </select>\r\n    <button (click)="deleteStop()" class="pk-button">Eliminar Parada</button>\r\n  </div>\r\n\r\n</div>\r\n'},767:function(t,e){t.exports='<div class="vbox">\r\n  <h1 class="section-title">Modificar Parada</h1>\r\n\r\n  <form (submit)="modifyStop($event)">\r\n\r\n    <div class="form-group create-stop-form">\r\n      <div>\r\n        <select\r\n          name="stops"\r\n          class="pk-combobox stops-combo"\r\n          (change)="updateStop($event,$event.target.value)">\r\n          <option [value]="" disabled selected hidden> -- Seleccionar Parada -- </option>\r\n          <option *ngFor="let item of (stops$ | async)" [value]="item.$key">\r\n            {{ item.nombre }}\r\n          </option>\r\n        </select>\r\n        <button type="submit" class="pk-button">Modificar Parada</button>\r\n      </div>\r\n\r\n      <div class="form-group">\r\n        <span for="name">Nombre de la parada:</span>\r\n        <input #name type="text" class="pk-input form-control" id="name" value="{{stop?.nombre}}" (keyup)="onKeyUp($event)" required>\r\n      </div>\r\n\r\n    </div>\r\n\r\n    <div class="map-container">\r\n      <ngui-map [zoom]="zoom" [center]="center">\r\n        <drawing-manager\r\n          [drawingMode]="\'\'"\r\n          [drawingControl]="false"\r\n          [drawingControlOptions]="{\r\n            position: 1,\r\n            drawingModes: []\r\n          }"\r\n          [markerOptions]="{\r\n            icon: \'assets/images/marker.png\',\r\n            draggable: true\r\n          }">\r\n        </drawing-manager>\r\n        <marker *ngFor="let pos of positions"\r\n                [position]="pos.latLng"\r\n                [draggable]="true"\r\n                [icon]="icon"\r\n                (click)="clicked($event)"\r\n                [title]="pos.name"\r\n                (dragend)="onDragEnd($event)">\r\n        </marker>\r\n        <info-window id="iw">\r\n          [[stopName]]\r\n        </info-window>\r\n      </ngui-map>\r\n    </div>\r\n\r\n  </form>\r\n\r\n</div>\r\n'},768:function(t,e){t.exports='<div class="vbox">\r\n  <h1 class="section-title">Paradas</h1>\r\n  <div class="hbox">\r\n    <select\r\n      name="stops"\r\n      class="pk-combobox stops-combo"\r\n      (change)="updateStop($event.target.value)">\r\n      <option [value]="" disabled selected hidden> -- Seleccionar Parada -- </option>\r\n      <option *ngFor="let item of (stops$ | async)" [value]="item.$key">\r\n        {{ item.nombre }}\r\n      </option>\r\n    </select>\r\n  </div>\r\n\r\n  <div class="map-container">\r\n\r\n    <ngui-map [zoom]="zoom" [center]="center">\r\n      <marker *ngFor="let pos of positions"\r\n              [position]="pos.latLng"\r\n              [icon]="icon"\r\n              (click)="clicked($event)"\r\n              [title]="pos.name">\r\n      </marker>\r\n      <info-window id="iw">\r\n        [[stopName]]\r\n      </info-window>\r\n    </ngui-map>\r\n\r\n  </div>\r\n\r\n</div>\r\n'},769:function(t,e){t.exports='<div class="vbox">\n  <h1 class="section-title">Proximo bus</h1>\n  <div class="form-group create-stop-form">\n    <select\n      name="stops"\n      class="pk-combobox stops-combo"\n      (change)="selectStop($event.target.value)">\n      <option [value]="" disabled selected hidden> -- Seleccionar Parada Destino -- </option>\n      <option *ngFor="let item of (stops$ | async)" [value]="item.$key">\n        {{ item.nombre }}\n      </option>\n    </select>\n  </div>\n</div>\n'},770:function(t,e){t.exports='<div class="vbox">\r\n  <h1 class="section-title">Crear Ruta</h1>\r\n\r\n  <form (submit)="createRoute($event)">\r\n\r\n    <div class="form-group create-stop-form">\r\n\r\n      <div>\r\n        <select\r\n          name="stops"\r\n          class="pk-combobox stops-combo"\r\n          (change)="toggleStop($event,$event.target.value)">\r\n          <option [value]="undefined" disabled selected hidden multiple> -- Seleccionar Paradas --</option>\r\n          <option *ngFor="let item of positions" [value]="item.$key">\r\n            {{ item.name }}\r\n          </option>\r\n        </select>\r\n        <button class="pk-button" type="button" (click)="deleteAllTraces()">Borrar Trazos</button>\r\n      </div>\r\n\r\n      <div class="form-group">\r\n        <span for="name">Nombre de la ruta:</span>\r\n        <input #name type="text" class="pk-input form-control" id="name" value="{{routeName}}"\r\n               (keyup)="onKeyUp($event)" required>\r\n      </div>\r\n      <button type="submit" class="pk-button">Crear Ruta</button>\r\n\r\n    </div>\r\n\r\n\r\n    <div class="map-container">\r\n      <ngui-map [zoom]="zoom" [center]="center" (mapReady$)="onMapReady($event)">\r\n        <drawing-manager\r\n          [drawingMode]="\'polyline\'"\r\n          [drawingControl]="true"\r\n          [drawingControlOptions]="{\r\n            position: 1,\r\n            drawingModes: [\'polyline\']\r\n          }"\r\n          [polylineOptions]="{\r\n            editable: true\r\n          }">\r\n        </drawing-manager>\r\n        <marker *ngFor="let pos of selectedPositions"\r\n                [position]="pos.latLng"\r\n                [draggable]="false"\r\n                [icon]="icon"\r\n                (click)="clicked($event)"\r\n                [title]="pos.name">\r\n        </marker>\r\n        <info-window id="iw">\r\n          [[stopName]]\r\n        </info-window>\r\n      </ngui-map>\r\n    </div>\r\n\r\n  </form>\r\n\r\n</div>\r\n'},771:function(t,e){t.exports='<div class="vbox">\r\n  <h1 class="section-title">Eliminar Ruta</h1>\r\n  <div class="remove-route-ctn">\r\n    <select\r\n      name="routes"\r\n      class="pk-combobox stops-combo"\r\n      (change)="setRouteToDeleteKey($event.target.value)">\r\n      <option [value]="" disabled selected hidden> -- Seleccionar Ruta a Eliminar -- </option>\r\n      <option *ngFor="let item of (routes$ | async)" [value]="item.$key">\r\n        {{ item.nombre }}\r\n      </option>\r\n    </select>\r\n    <button (click)="deleteRoute()" class="pk-button">Eliminar Ruta</button>\r\n  </div>\r\n\r\n</div>\r\n'},772:function(t,e){t.exports='<div class="vbox">\r\n  <h1 class="section-title">Modificar Ruta</h1>\r\n\r\n  <form (submit)="modifyRoute($event)">\r\n\r\n    <div class="form-group create-stop-form">\r\n\r\n      <div>\r\n        <select\r\n          name="routes"\r\n          class="pk-combobox stops-combo"\r\n          (change)="updateRoute($event,$event.target.value)">\r\n          <option [value]="" disabled selected hidden> -- Seleccionar Ruta -- </option>\r\n          <option *ngFor="let item of (routes$ | async)" [value]="item.$key">\r\n            {{ item.nombre }}\r\n          </option>\r\n        </select>\r\n        <button type="submit" class="pk-button">Modificar Ruta</button>\r\n      </div>\r\n\r\n      <div>\r\n          <select\r\n            name="stops"\r\n            class="pk-combobox stops-combo"\r\n            (change)="toggleStop($event,$event.target.value)">\r\n            <option [value]="undefined" disabled selected hidden multiple> -- Seleccionar Paradas -- </option>\r\n            <option *ngFor="let item of positions" [value]="item.$key">\r\n              {{ item.name }}\r\n            </option>\r\n          </select>\r\n          <button class="pk-button" type="button" (click)="deleteAllTraces()">Borrar Trazos</button>\r\n      </div>\r\n\r\n      <div class="form-group">\r\n        <span for="name">Nombre de la ruta:</span>\r\n        <input #name type="text" class="pk-input form-control" id="name" value="{{selectedRoute?.name}}" (keyup)="onKeyUp($event)" required>\r\n      </div>\r\n\r\n    </div>\r\n\r\n\r\n\r\n    <div class="map-container">\r\n      <ngui-map [zoom]="zoom" [center]="center" (mapReady$)="onMapReady($event)">\r\n        <drawing-manager\r\n          [drawingMode]="\'polyline\'"\r\n          [drawingControl]="true"\r\n          [drawingControlOptions]="{\r\n            position: 1,\r\n            drawingModes: [\'polyline\']\r\n          }"\r\n          [polylineOptions]="{\r\n            editable: true\r\n          }">\r\n        </drawing-manager>\r\n        <marker *ngFor="let pos of selectedPositions"\r\n                [position]="pos.latLng"\r\n                [draggable]="false"\r\n                [icon]="icon"\r\n                (click)="clicked($event)"\r\n                [title]="pos.name">\r\n        </marker>\r\n        <info-window id="iw">\r\n          [[stopName]]\r\n        </info-window>\r\n      </ngui-map>\r\n    </div>\r\n\r\n  </form>\r\n\r\n</div>\r\n'},773:function(t,e){t.exports='<div class="vbox">\r\n  <h1 class="section-title">Rutas</h1>\r\n  <div class="hbox">\r\n    <select\r\n      name="routes"\r\n      class="pk-combobox routes-combo"\r\n      (change)="updateRoute($event.target.value)">\r\n      <option [value]="" disabled selected hidden> -- Seleccionar Ruta -- </option>\r\n      <option *ngFor="let item of (routes$ | async)" [value]="item.$key">\r\n        {{ item.nombre }}\r\n      </option>\r\n    </select>\r\n  </div>\r\n\r\n  <div class="map-container">\r\n    <ngui-map [zoom]="zoom" [center]="center" (mapReady$)="onMapReady($event)">\r\n      <marker *ngFor="let pos of positions"\r\n              [position]="pos.latLng"\r\n              [icon]="icon"\r\n              (click)="clicked($event)"\r\n              [title]="pos.name">\r\n      </marker>\r\n      <info-window id="iw">\r\n        [[stopName]]\r\n      </info-window>\r\n    </ngui-map>\r\n  </div>\r\n\r\n</div>\r\n'},774:function(t,e){t.exports='<nav class="sidebar-ctn">\r\n\r\n  <a class="page-tab first-tab"\r\n     routerLink="inicio"\r\n     routerLinkActive="active">Inicio</a>\r\n\r\n  <a class="page-tab second-tab"\r\n     routerLink="rutas"\r\n     routerLinkActive="active">Rutas</a>\r\n\r\n  <a class="page-tab-auth"\r\n     *ngIf="isLoggedIn | async"\r\n     routerLink="crear-rutas"\r\n     routerLinkActive="active">Crear</a>\r\n\r\n  <a class="page-tab-auth"\r\n     *ngIf="isLoggedIn | async"\r\n     routerLink="modificar-rutas"\r\n     routerLinkActive="active">Modificar</a>\r\n\r\n  <a class="page-tab-auth last-tab"\r\n     *ngIf="isLoggedIn | async"\r\n     routerLink="eliminar-rutas"\r\n     routerLinkActive="active">Eliminar</a>\r\n\r\n  <a class="page-tab middle-tab"\r\n     routerLink="paradas"\r\n     routerLinkActive="active">Paradas</a>\r\n\r\n  <a class="page-tab-auth"\r\n     *ngIf="isLoggedIn | async"\r\n     routerLink="crear-paradas"\r\n     routerLinkActive="active">Crear</a>\r\n\r\n  <a class="page-tab-auth"\r\n     *ngIf="isLoggedIn | async"\r\n     routerLink="modificar-paradas"\r\n     routerLinkActive="active">Modificar</a>\r\n\r\n  <a class="page-tab-auth last-tab"\r\n     *ngIf="isLoggedIn | async"\r\n     routerLink="eliminar-paradas"\r\n     routerLinkActive="active">Eliminar</a>\r\n\r\n  <a class="page-tab middle-tab"\r\n     routerLink="parada-mas-cercana"\r\n     routerLinkActive="active">Parada mas cercana</a>\r\n\r\n  <a class="page-tab"\r\n     routerLink="proximo-bus"\r\n     routerLinkActive="active">Proximo bus</a>\r\n\r\n  <a class="page-tab"\r\n     routerLink="mapa"\r\n     routerLinkActive="active">Mapa</a>\r\n\r\n  <a class="page-tab contact-us-tab"\r\n     routerLink="contactanos"\r\n     routerLinkActive="active">Contactanos</a>\r\n\r\n</nav>\r\n\r\n'},775:function(t,e){t.exports='<a class="footer la-paz-bus-link" target="_blank" href="http://www.lapazbus.bo/">La Paz Bus 2017</a>\r\n'},776:function(t,e){t.exports='<div class="page-title">\r\n\r\n  <img class="logo" src="assets/images/logo.png">\r\n\r\n  <a class="la-paz-bus-link" target="_blank" href="http://www.lapazbus.bo/">{{ title }}</a>\r\n\r\n  <div class="login-ctn">\r\n    <span *ngIf="isLoggedIn" class="username">{{ username | async }}</span>\r\n    <a class="pk-button"\r\n       *ngIf="isNotLoggedIn | async"\r\n       routerLink="iniciar-sesion"\r\n       routerLinkActive="active">{{ loginText }}</a>\r\n    <a class="pk-button"\r\n       *ngIf="isLoggedIn | async"\r\n       (click)="logout()">{{ logoutText }}</a>\r\n  </div>\r\n\r\n</div>\r\n'},802:function(t,e,n){t.exports=n(455)}},[802]);